자바스크립트 객체 this

## 객체(Object)란?

“키(key)”와 “값(value)”의 쌍으로 이루어진 데이터 집합

즉, 여러 데이터를 하나로 묶어서 관리할 수 있는 구조다.

## 자바스크립트 객체 종류

자바스크립트 객체는 다음과 같이 크게 3개의 객체로 분류할 수 있다.
표준 빌트인

| 분류                                       | 설명                                                    | 예시                                                                       |
| ------------------------------------------ | ------------------------------------------------------- | -------------------------------------------------------------------------- |
| **내장 객체 (Built-in Object)**            | 자바스크립트 엔진에 기본 내장된 객체 (언제든 사용 가능) | `Object`, `Array`, `Math`, `Date`, `JSON`, `Promise`                       |
| **사용자 정의 객체 (User-defined Object)** | 개발자가 직접 만든 객체                                 | `const user = { name: "지환", age: 21 };`                                  |
| **호스트 객체 (Host Object)**              | 실행 환경(브라우저나 Node.js)이 제공하는 객체           | 브라우저: `window`, `document`, `fetch` Node.js: `process`, `Buffer`, `fs` |

## 래퍼 객체(Wrapper Object)

1. 자바스크립트에서 원시값(primitive value)을 객체처럼 다룰 수 있게 해주는 임시 객체이다.
2. 원시값을 객체처럼 다룰 수 있게 일시적으로 감싸주는 객체

## 전역 객체란?

어디서든 접근할 수 있는, 최상위 객체

즉, **모든 객체의 ‘공통 부모’ 역할을 하는 전역 스코프의 객체다.**

## 암묵적 전역 정의

변수를 선언하지 않고 값을 할당했을 때,
자동으로 전역 변수처럼 만들어지는 현상

## `this`란?

현재 실행 중인 컨텍스트(문맥) 즉,

**누가 이 함수를 호출했는지** 를 가리키는 **참조(Reference)다.**

## this 바인딩이란?

함수가 실행될 때 this가 무엇을 가리킬지 연결(binding)하는 과정

즉, **this가 참조할 객체를 결정하는 것**을 말한다.

핵심: `this`는 **함수가 정의될 때가 아니라, 호출될 때 결정됨**

## 일반 함수 호출이란?

함수를 단독으로 호출하는 것

즉, 어떤 객체에 속하지 않고 그냥 호출하는 방식이다.

```jsx
function foo() {
  console.log(this);
}

foo();
```

- 호출 방식: 일반 함수
- 특징: **객체 없이 호출됨**

## 메서드 호출이란?

객체 안에 정의된 함수를 호출하는 방식을 말합니다.

즉, 함수가 **객체의 속성**으로 존재할 때 호출하면, 메서드 호출이다.

```jsx
const user = {
  name: "지환",
  sayHi() {
    console.log(this.name);
  },
};

user.sayHi(); // "지환"
```

- `sayHi`는 `user` 객체의 메서드
- `user.sayHi()` → **메서드 호출 방식**

### 생성자 함수 호출(Constructor Call)

```jsx
function Person(name) {
  this.name = name;
}

const me = new Person("지환");
console.log(me.name); // "지환"
```

- **호출 방식**: `new` 키워드 사용
- **this 값**: 새로 만들어진 **인스턴스 객체** (`me`)

new 바인딩 규칙: 생성자 호출 시 this는 항상 새 객체

## `this`쓰는이유

`this`는 **객체 자신 또는 호출 컨텍스트를 참조**해, 재사용 가능하고 유연한 코드를 작성하기 위해 사용한다.

## 결론

1. `this`는 호출 방식에 따라 객체, 새 객체, 상위 스코프를 가리킨다.
2. **래퍼 객체**는 원시값을 객체처럼, **암묵적 전역**은 선언 없는 전역 변수다.
3. **전역 객체**는 모든 전역 변수와 함수, 표준 객체를 포함한다.
